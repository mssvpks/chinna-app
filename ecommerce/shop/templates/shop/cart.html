{% extends "base.html" %}
{% load static %}

{% block content %}
<h2>Shopping Cart</h2>
<div class="cart">
    {% if cart.cartitem_set.count > 0 %}
        <ul>
            {% for item in cart.cartitem_set.all %}
                <li>
                    <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
                    <h3>{{ item.product.name }}</h3>
                    <p>Quantity: {{ item.quantity }}</p>
                    <p>Price: ${{ item.product.price }}</p>
                    <form action="{% url 'cart_remove' item.product.id %}" method="post">
                        {% csrf_token %}
                        <button type="submit">Remove</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
        <p>Total: ${{ cart_total }}</p>
        <a href="{% url 'checkout' %}">Proceed to Checkout</a>
    {% else %}
        <p>Your cart is empty.</p>
    {% endif %}
</div>
{% endblock %}
